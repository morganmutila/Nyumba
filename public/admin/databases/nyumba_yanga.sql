-- MySQL Script generated by MySQL Workbench
-- Fri May 31 12:00:53 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema nyumba_yanga
-- -----------------------------------------------------
-- Database schema for the Nyumba Yanga web app
DROP SCHEMA IF EXISTS `nyumba_yanga` ;

-- -----------------------------------------------------
-- Schema nyumba_yanga
--
-- Database schema for the Nyumba Yanga web app
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `nyumba_yanga` DEFAULT CHARACTER SET utf8 ;
USE `nyumba_yanga` ;

-- -----------------------------------------------------
-- Table `nyumba_yanga`.`city`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`city` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`city` (
  `id` SMALLINT(5) UNSIGNED NOT NULL AUTO_INCREMENT,
  `city` VARCHAR(45) NOT NULL,
  `last_update` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  INDEX `city` (`city` ASC) ,
  UNIQUE INDEX `city_UNIQUE` (`city` ASC) )
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`location`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`location` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`location` (
  `id` SMALLINT(5) UNSIGNED NOT NULL AUTO_INCREMENT,
  `city_id` SMALLINT(5) UNSIGNED NOT NULL,
  `location` VARCHAR(45) NOT NULL,
  `description` MEDIUMTEXT NOT NULL,
  `last_update` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  INDEX `fk_location_city1_idx` (`city_id` ASC) ,
  UNIQUE INDEX `location_UNIQUE` (`location` ASC) ,
  CONSTRAINT `fk_location_city1`
    FOREIGN KEY (`city_id`)
    REFERENCES `nyumba_yanga`.`city` (`id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`group`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`group` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`group` (
  `id` TINYINT(2) UNSIGNED NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  `permission` TINYTEXT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `name` (`name` ASC) )
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`users`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`users` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`users` (
  `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `group_id` TINYINT(2) UNSIGNED NOT NULL,
  `location_id` SMALLINT(5) UNSIGNED NOT NULL,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `username` VARCHAR(50) NOT NULL,
  `email` VARCHAR(50) NOT NULL,
  `phone` VARCHAR(15) NOT NULL,
  `password` VARCHAR(255) NOT NULL,
  `joined` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `status` VARCHAR(60) NOT NULL DEFAULT 'active',
  `last_login` DATETIME NOT NULL,
  `ip` VARCHAR(15) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `phone` (`phone` ASC) ,
  UNIQUE INDEX `username` (`username` ASC) ,
  INDEX `name` USING BTREE (`first_name`, `last_name`) ,
  INDEX `login` (`username` ASC, `email` ASC, `phone` ASC, `password` ASC) ,
  INDEX `location_id_idx` (`location_id` ASC) ,
  INDEX `fk_users_group1_idx` (`group_id` ASC) ,
  CONSTRAINT `location_id`
    FOREIGN KEY (`location_id`)
    REFERENCES `nyumba_yanga`.`location` (`id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_users_group1`
    FOREIGN KEY (`group_id`)
    REFERENCES `nyumba_yanga`.`group` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`staff`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`staff` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`staff` (
  `id` SMALLINT(5) UNSIGNED NOT NULL AUTO_INCREMENT,
  `city_id` SMALLINT(5) UNSIGNED NULL,
  `group_id` TINYINT(2) UNSIGNED NOT NULL DEFAULT 2,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `email` VARCHAR(50) NOT NULL,
  `phone` VARCHAR(15) NOT NULL,
  `job_title` VARCHAR(100) NOT NULL,
  `password` VARCHAR(255) NOT NULL,
  `city` VARCHAR(45) NOT NULL,
  `province` VARCHAR(45) NOT NULL,
  `avatar` VARCHAR(45) NOT NULL,
  `gender` ENUM('male, female') NULL,
  `joined` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_login` DATETIME NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `email` (`email` ASC) ,
  UNIQUE INDEX `phone` (`phone` ASC) ,
  INDEX `name` USING BTREE (`first_name`, `last_name`) ,
  INDEX `login` USING BTREE (`email`, `password`) ,
  INDEX `staff_group1_idx` (`group_id` ASC) ,
  INDEX `staff_city1_idx` (`city_id` ASC) ,
  CONSTRAINT `fk_staff_group1`
    FOREIGN KEY (`group_id`)
    REFERENCES `nyumba_yanga`.`group` (`id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_staff_city1`
    FOREIGN KEY (`city_id`)
    REFERENCES `nyumba_yanga`.`city` (`id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`property`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`property` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`property` (
  `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `user_id` INT(11) UNSIGNED NOT NULL,
  `location_id` SMALLINT(5) UNSIGNED NOT NULL,
  `address` VARCHAR(100) NOT NULL,
  `beds` TINYINT(2) UNSIGNED NOT NULL DEFAULT 0,
  `baths` FLOAT(2) UNSIGNED NOT NULL DEFAULT 0,
  `terms` VARCHAR(100) NOT NULL,
  `size` INT(12) NOT NULL,
  `units` TINYINT(4) UNSIGNED NOT NULL DEFAULT 1,
  `type` VARCHAR(200) NOT NULL,
  `price` DECIMAL(10,2) NOT NULL DEFAULT 0.00,
  `price_old` DECIMAL(10,2) NOT NULL DEFAULT 0.00,
  `negotiable` TINYINT(1) UNSIGNED NULL DEFAULT 0,
  `description` TEXT NOT NULL,
  `cphoto` VARCHAR(50) NOT NULL,
  `added` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `owner` VARCHAR(50) NOT NULL,
  `contact_number` VARCHAR(15) NOT NULL,
  `contact_email` VARCHAR(50) NOT NULL,
  `available` DATE NOT NULL,
  `views` INT(11) UNSIGNED NOT NULL DEFAULT 0,
  `reference` VARCHAR(45) NOT NULL,
  `status` TINYINT(2) UNSIGNED NOT NULL DEFAULT 1,
  `listed_by` VARCHAR(60) NULL,
  `market` VARCHAR(60) NOT NULL DEFAULT 'rent',
  `flags` TINYINT(4) NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`),
  INDEX `fk_user_id` (`user_id` ASC) ,
  INDEX `location_id` (`location_id` ASC) ,
  INDEX `added_on` (`added` ASC) ,
  INDEX `property_price` USING BTREE (`price`, `market`) ,
  INDEX `market_type` USING BTREE (`market`) ,
  CONSTRAINT `fk_user_id`
    FOREIGN KEY (`user_id`)
    REFERENCES `nyumba_yanga`.`users` (`id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_location1`
    FOREIGN KEY (`location_id`)
    REFERENCES `nyumba_yanga`.`location` (`id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`property_feature`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`property_feature` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`property_feature` (
  `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `feature` VARCHAR(125) NOT NULL,
  `type` ENUM('indoor', 'outdoor') NOT NULL,
  `last_update` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  INDEX `feature_name` (`feature` ASC) ,
  UNIQUE INDEX `feature_UNIQUE` (`feature` ASC) )
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`amenities`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`amenities` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`amenities` (
  `property_id` INT(11) UNSIGNED NOT NULL,
  `feature_id` INT(11) UNSIGNED NOT NULL,
  PRIMARY KEY (`feature_id`, `property_id`),
  INDEX `property_id_idx` (`property_id` ASC) ,
  INDEX `feature_id_idx` (`feature_id` ASC) ,
  CONSTRAINT `fk_feature_id`
    FOREIGN KEY (`feature_id`)
    REFERENCES `nyumba_yanga`.`property_feature` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `nyumba_yanga`.`property` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`property_image`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`property_image` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`property_image` (
  `id` BIGINT(11) UNSIGNED NOT NULL,
  `property_id` INT(11) UNSIGNED NOT NULL,
  `photo` VARCHAR(125) NULL,
  `last_update` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  INDEX `property_photo` (`property_id` ASC) ,
  CONSTRAINT `property_photo`
    FOREIGN KEY (`property_id`)
    REFERENCES `nyumba_yanga`.`property` (`id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`saved_property`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`saved_property` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`saved_property` (
  `id` SMALLINT(5) UNSIGNED NOT NULL AUTO_INCREMENT,
  `user_id` INT(11) UNSIGNED NOT NULL,
  `property_id` INT(11) UNSIGNED NOT NULL,
  `created` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  INDEX `user_property_id` USING BTREE (`property_id`, `user_id`) ,
  INDEX `user_id_idx` (`user_id` ASC) ,
  UNIQUE INDEX `property_id_UNIQUE` (`property_id` ASC) ,
  CONSTRAINT `fk_user_id_3`
    FOREIGN KEY (`user_id`)
    REFERENCES `nyumba_yanga`.`users` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_id_3`
    FOREIGN KEY (`property_id`)
    REFERENCES `nyumba_yanga`.`property` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`reported_property`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`reported_property` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`reported_property` (
  `id` INT(11) UNSIGNED NOT NULL,
  `reason` VARCHAR(100) NOT NULL,
  `description` TEXT NULL,
  `reported` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `property_id` INT(11) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_reported_property_property1_idx` (`property_id` ASC) ,
  CONSTRAINT `fk_reported_property_property1`
    FOREIGN KEY (`property_id`)
    REFERENCES `nyumba_yanga`.`property` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `nyumba_yanga`.`saved_search`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `nyumba_yanga`.`saved_search` ;

CREATE TABLE IF NOT EXISTS `nyumba_yanga`.`saved_search` (
  `id` SMALLINT(5) UNSIGNED NOT NULL,
  `user_id` INT(11) UNSIGNED NOT NULL,
  `search_url` TINYTEXT NOT NULL,
  `created` TIMESTAMP NOT NULL,
  `users_id` INT(11) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_saved_search_users1_idx` (`users_id` ASC) ,
  CONSTRAINT `fk_saved_search_users1`
    FOREIGN KEY (`users_id`)
    REFERENCES `nyumba_yanga`.`users` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

USE `nyumba_yanga`;

DELIMITER $$

USE `nyumba_yanga`$$
DROP TRIGGER IF EXISTS `nyumba_yanga`.`property_BEFORE_UPDATE` $$
USE `nyumba_yanga`$$
CREATE DEFINER = CURRENT_USER TRIGGER `nyumba_yanga`.`property_BEFORE_UPDATE` BEFORE UPDATE ON `property` FOR EACH ROW
BEGIN
INSERT INTO property SET price_old = price;
END$$


DELIMITER ;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `nyumba_yanga`.`city`
-- -----------------------------------------------------
START TRANSACTION;
USE `nyumba_yanga`;
INSERT INTO `nyumba_yanga`.`city` (`id`, `city`, `last_update`) VALUES (1, 'Lusaka', DEFAULT);

COMMIT;


-- -----------------------------------------------------
-- Data for table `nyumba_yanga`.`location`
-- -----------------------------------------------------
START TRANSACTION;
USE `nyumba_yanga`;
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (1, 1, 'kamwala south', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (2, 1, 'ibex hill', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (3, 1, 'libala', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (4, 1, 'kabulonga', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (5, 1, 'roma', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (6, 1, 'chalala', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (7, 1, 'makeni', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (8, 1, 'woodlands ext', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (9, 1, 'woodlands', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (10, 1, 'rhodes park', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (11, 1, 'chudleigh', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (12, 1, 'olympia park', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (13, 1, 'chamba valley', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (14, 1, 'jesmondine', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (15, 1, 'sunningdale', '', '2019-05-20 11:54:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (16, 1, 'lusaka south', '', '2019-05-21 07:19:16');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (17, 1, 'meanwood', '', '2019-05-21 07:19:16');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (18, 1, 'salama park ', '', '2019-05-21 07:20:35');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (19, 1, 'northmead ', '', '2019-05-21 07:21:49');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (20, 1, 'marshlands', '', '2019-05-21 07:38:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (21, 1, 'kalundu', '', '2019-05-21 07:38:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (22, 1, 'new kasama', '', '2019-05-21 07:38:43');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (27, 1, 'chelston', '', '2019-05-21 07:41:07');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (29, 1, 'leopards hill', '', '2019-05-21 07:42:19');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (41, 1, 'mass media', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (42, 1, 'longacres', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (43, 1, 'chilenje', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (44, 1, 'kabwata', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (45, 1, 'avondale', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (46, 1, 'emmasdale', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (47, 1, 'foxdale', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (48, 1, 'nyumba yanga', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (49, 1, 'phi', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (50, 1, 'silverest', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (51, 1, 'villa elizabetha', '', '2019-05-23 14:31:24');
INSERT INTO `nyumba_yanga`.`location` (`id`, `city_id`, `location`, `description`, `last_update`) VALUES (52, 1, 'eureka park', '', '2019-05-24 11:47:40');

COMMIT;


-- -----------------------------------------------------
-- Data for table `nyumba_yanga`.`group`
-- -----------------------------------------------------
START TRANSACTION;
USE `nyumba_yanga`;
INSERT INTO `nyumba_yanga`.`group` (`id`, `name`, `permission`) VALUES (1, 'standard', DEFAULT);

COMMIT;


-- -----------------------------------------------------
-- Data for table `nyumba_yanga`.`users`
-- -----------------------------------------------------
START TRANSACTION;
USE `nyumba_yanga`;
INSERT INTO `nyumba_yanga`.`users` (`id`, `group_id`, `location_id`, `first_name`, `last_name`, `username`, `email`, `phone`, `password`, `joined`, `status`, `last_login`, `ip`) VALUES (1, 1, 41, 'Morris', 'Mutila', 'morrismutila', 'mutilamorgan@gmail.com', '0976249140', '$2y$10$e68DtnGUOD/nEz0Hcn2UhOLdFiuyHcbZ.1Zo977PAxLGws6ibLg9i', '2019-05-08 14:22:02', 'active', '2019-05-30 11:16:15', '::1');
INSERT INTO `nyumba_yanga`.`users` (`id`, `group_id`, `location_id`, `first_name`, `last_name`, `username`, `email`, `phone`, `password`, `joined`, `status`, `last_login`, `ip`) VALUES (2, 1, 15, 'Sharon', 'Bunda', 'sharonbunda', 'mowa@gmail.com', '0978348845', '$2y$10$6eky5TgK1/rnEvdsSsd8tuXLgv0Xq6Q/7SIg.yNpwrV0rCpoB/lau', '2019-05-08 14:22:33', 'active', '2019-05-30 13:30:00', '::1');
INSERT INTO `nyumba_yanga`.`users` (`id`, `group_id`, `location_id`, `first_name`, `last_name`, `username`, `email`, `phone`, `password`, `joined`, `status`, `last_login`, `ip`) VALUES (3, 1, 1, 'Elita', 'Kabali', 'elitakabali', 'jenkins@gmail.com', '0975342335', '$2y$10$A7lSBMqG1kLpPJYRfpke..8MfXzle7c/UwEbXI9IzuKIQPs3S3lWq', '2019-05-08 23:42:41', 'active', '2019-05-28 13:21:13', '::1');
INSERT INTO `nyumba_yanga`.`users` (`id`, `group_id`, `location_id`, `first_name`, `last_name`, `username`, `email`, `phone`, `password`, `joined`, `status`, `last_login`, `ip`) VALUES (4, 1, 1, 'Simasiku', 'Mutila', 'simasikumutila', 'mutilamorgan@yahoo.com', '0966217458', '$2y$10$bsl.XbwOU6tCO9uR3bvRGuhLkl0Gi74oVLVCDh0eht1vCn7jdz1xa', '2019-05-08 23:47:12', 'active', '2019-05-08 23:47:12', '::1');
INSERT INTO `nyumba_yanga`.`users` (`id`, `group_id`, `location_id`, `first_name`, `last_name`, `username`, `email`, `phone`, `password`, `joined`, `status`, `last_login`, `ip`) VALUES (5, 1, 3, 'Raphael', 'Novele', 'raphaelnovele', 'raphael@gmail.com', '0976235864', '$2y$10$hHMKFGqkyzft5VnnNNgWTu5bxMAZIm9KeayPwJtVvTdbA313G8FLO', '2019-05-09 01:39:28', 'active', '2019-05-29 15:21:37', '::1');
INSERT INTO `nyumba_yanga`.`users` (`id`, `group_id`, `location_id`, `first_name`, `last_name`, `username`, `email`, `phone`, `password`, `joined`, `status`, `last_login`, `ip`) VALUES (10, 1, 3, 'Sean', 'Sokwe', 'seansokwe', 'sokwe@gmail.com', '0987654321', '$2y$10$dFe9fNnV.jvDGs2e6EwAouKRW3sS4dtyTiq/EaqZIpWOtrQ.IJzA2', '2019-05-29 11:01:04', 'active', '2019-05-29 11:01:04', '192.168.137.142');

COMMIT;


-- -----------------------------------------------------
-- Data for table `nyumba_yanga`.`property`
-- -----------------------------------------------------
START TRANSACTION;
USE `nyumba_yanga`;
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (1, 3, 1, '333627/1080', 3, 1.5, '1', 564, 1, 'House', 7500, 0.00, 0, 'Its very beautiful house', '', '2019-05-08 14:23:07', 'Morris Mutila', '0976249140', 'mutilamorgan@gmail.com', '2019-05-11', 22, '955374150', 2, '1', 'rent', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (2, 2, 4, '126D67', 2, 2, '', 306, 1, 'Apartment', 20000, 0.00, 1, 'Beautiful environment', '', '2019-05-08 14:28:07', 'Sharon Bunda', '0978348845', 'mowa@gmail.com', '2019-05-15', 4, '173663274', 2, '1', 'sale', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (3, 5, 6, '4356363tr', 1, 1, '3', 768, 1, 'Apartment', 1500, 0.00, 0, 'Its big and beautiful', '', '2019-05-08 20:21:46', 'Sharon Bunda', '0978348845', 'mowa@gmail.com', '2019-05-09', 2, '2111013844', 2, '1', 'rent', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (4, 3, 7, '8767R45', 3, 2, '', 564, 1, 'Town House', 350000, 0.00, 1, 'Its beautiful and neat ', '', '2019-05-08 20:25:08', 'Morris Mutila', '0976249140', 'mutilamorgan@gmail.com', '2019-05-15', 1, '1630895609', 2, '1', 'sale', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (5, 1, 3, '2 bedroomed house', 1, 1, '', 300, 1, 'House', 6000, 0.00, 0, 'Small but its very nice and neat', '', '2019-05-13 12:38:43', 'Agness Chola', '0965574533', 'agnes@gmail.com', '2019-05-15', 6, '1052098018', 2, '1', 'sale', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (9, 5, 14, 'House 4 sale', 2, 1, '', 306, 1, 'Flat', 340500, 0.00, 1, 'Nice place', '', '2019-05-20 12:33:23', 'Rapheal Novela', '0976235864', 'raphael@gmail.com', '2019-05-25', 1, '1729004597', 2, '1', 'sale', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (10, 5, 3, 'For sale near ring road', 2, 1.5, '', 300, 1, 'Apartment', 325000, 0.00, 0, 'Everthing is nice about it..', '', '2019-05-20 12:40:19', 'Rapheal Novela', '0976235864', 'raphael@gmail.com', '2019-05-21', 16, '1020823335', 2, '1', 'sale', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (11, 5, 11, 'Zinc 555', 1, 1, '', 220, 1, 'House', 8000, 0.00, 1, 'Very nice mwebantu', '', '2019-05-20 12:51:05', 'Rapheal Novela', '0976235864', 'raphael@gmail.com', '2019-05-31', 8, '451527596', 2, '1', 'sale', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (12, 1, 4, 'Bauxite 34257', 1, 1, '1', 6543, 1, 'Townhouse', 9000, 0.00, 0, 'Its has a beautiful garden outside, big and spartious', '', '2019-05-23 12:53:59', 'Morris Mutila', '0976249140', 'mutilamorgan@gmail.com', '2019-05-25', 2, '1452441531', 2, '1', 'rent', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (13, 3, 42, 'Onxy street 5674RT', 3, 2, '2', 673, 1, 'Flat', 9000, 0.00, 0, 'Nice surrounding', '', '2019-05-24 12:26:51', 'Elita Kabali', '0975342335', 'jenkins@gmail.com', '2019-05-24', 1, '1262147054', 2, '1', 'rent', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (14, 5, 44, '', 2, 1, '', 678, 1, 'Condo', 3000, 0.00, 0, 'Its beautiful', '', '2019-05-29 08:00:04', 'Rapheal Novela', '0976235864', 'raphael@gmail.com', '2019-05-29', 1, '1800851989', 2, '1', 'sale', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (15, 1, 4, '', 2, 1.5, '2', 768, 2, 'Flat', 54600, 0.00, 0, 'They are in a wall fence nice houses', '', '2019-05-28 13:21:55', 'Morris Mutila', '0976249140', 'mutilamorgan@gmail.com', '2019-05-30', 1, '1292632991', 2, '1', 'rent', 0);
INSERT INTO `nyumba_yanga`.`property` (`id`, `user_id`, `location_id`, `address`, `beds`, `baths`, `terms`, `size`, `units`, `type`, `price`, `price_old`, `negotiable`, `description`, `cphoto`, `added`, `owner`, `contact_number`, `contact_email`, `available`, `views`, `reference`, `status`, `listed_by`, `market`, `flags`) VALUES (16, 1, 45, '', 4, 3, '', 1908, 1, 'Apartment(semi-detached)', 450000, 0.00, 1, 'Has a beautiful garden', '', '2019-05-29 09:30:00', 'Morris Mutila', '0976249140', 'mutilamorgan@gmail.com', '2019-05-29', 3, '1859451838', 2, '1', 'sale', 0);

COMMIT;


-- -----------------------------------------------------
-- Data for table `nyumba_yanga`.`property_feature`
-- -----------------------------------------------------
START TRANSACTION;
USE `nyumba_yanga`;
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (1, 'Electric fence', 'outdoor', '2019-05-06 00:47:38');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (2, 'Geyser', 'indoor', '2019-05-06 00:47:38');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (3, 'Garden', 'outdoor', '2019-05-06 00:49:16');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (4, 'Bore hole', 'outdoor', '2019-05-06 00:49:16');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (5, 'Car port', 'outdoor', '2019-05-06 00:49:16');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (6, 'Modern fittings', 'indoor', '2019-05-06 00:49:16');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (7, 'Cable Available', 'indoor', '2019-05-06 00:50:19');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (8, 'Ceiling board', 'indoor', '2019-05-06 00:50:19');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (9, 'Fence', 'outdoor', '2019-05-06 00:51:32');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (10, 'Parking space', 'outdoor', '2019-05-06 00:51:32');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (11, 'Pool', 'outdoor', '2019-05-06 09:51:15');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (12, 'Lawn', 'outdoor', '2019-05-06 09:51:15');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (13, 'Air Conditioning', 'indoor', '2019-05-06 09:53:00');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (14, 'Kitchen Unit', 'indoor', '2019-05-20 12:43:26');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (15, 'Paved Yard', 'outdoor', '2019-05-20 12:44:52');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (16, 'Bore hole and Water tank', 'outdoor', '2019-05-20 12:48:24');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (17, 'Fitted stove', 'indoor', '2019-05-20 12:48:24');
INSERT INTO `nyumba_yanga`.`property_feature` (`id`, `feature`, `type`, `last_update`) VALUES (18, 'Motor Gate', 'outdoor', '2019-05-20 12:48:24');

COMMIT;

